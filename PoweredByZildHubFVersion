-- Powered By ZILD Free FPS Combat Script
-- UI & Features by ZILD | discord.gg/vBUqNvSc

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Camera = workspace.CurrentCamera
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UIS = game:GetService("UserInputService")
local RS = game:GetService("RunService")

-- Window
local Window = Rayfield:CreateWindow({
	Name = "ZILD Free FPS Hub",
	LoadingTitle = "ZILD FPS Loader",
	LoadingSubtitle = "Combat Tools Loaded",
	ConfigurationSaving = {
		Enabled = true,
		FileName = "ZILD_FPS_Hub"
	},
	KeySystem = false
})

-- Combat Tab
local CombatTab = Window:CreateTab("Combat", 4483362458)
CombatTab:CreateSection("üî• Combat Features")

-- AIMBOT
local AimbotEnabled = false
local FOV = 100

local function GetTarget()
	local closest, distance = nil, FOV
	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
			local head = player.Character.Head
			local screenPos, onScreen = Camera:WorldToViewportPoint(head.Position)
			if onScreen then
				local dist = (Vector2.new(screenPos.X, screenPos.Y) - UIS:GetMouseLocation()).Magnitude
				local dir = (head.Position - Camera.CFrame.Position).Unit
				if dist < distance and dir:Dot(Camera.CFrame.LookVector) > 0.75 then
					closest, distance = head, dist
				end
			end
		end
	end
	return closest
end

CombatTab:CreateButton({
	Name = "Toggle Aimbot (Smooth + POV)",
	Callback = function()
		AimbotEnabled = not AimbotEnabled
		Rayfield:Notify({
			Title = "ZILD Aimbot",
			Content = AimbotEnabled and "Enabled" or "Disabled",
			Duration = 4
		})
	end
})

RS.RenderStepped:Connect(function()
	if AimbotEnabled then
		local target = GetTarget()
		if target then
			Camera.CFrame = Camera.CFrame:Lerp(CFrame.new(Camera.CFrame.Position, target.Position), 0.15)
		end
	end
end)

-- Silent Aim
_G.SilentAim = false
CombatTab:CreateButton({
	Name = "Toggle Silent Aim",
	Callback = function()
		_G.SilentAim = not _G.SilentAim
		Rayfield:Notify({
			Title = "Silent Aim",
			Content = _G.SilentAim and "Enabled" or "Disabled",
			Duration = 3
		})
	end
})

-- Simple Wallcheck logic example (simulated for demo)
_G.WallCheck = false
CombatTab:CreateButton({
	Name = "Toggle WallCheck (Basic)",
	Callback = function()
		_G.WallCheck = not _G.WallCheck
		Rayfield:Notify({
			Title = "Wall Check",
			Content = _G.WallCheck and "ON" or "OFF",
			Duration = 3
		})
	end
})

-- Hitbox Expander
_G.HitboxEnabled = false
_G.HitboxSize = 15
CombatTab:CreateButton({
	Name = "Toggle Hitbox Expander",
	Callback = function()
		_G.HitboxEnabled = not _G.HitboxEnabled
		Rayfield:Notify({
			Title = "Hitbox",
			Content = _G.HitboxEnabled and "Expanded" or "Normal",
			Duration = 3
		})
	end
})

RS.RenderStepped:Connect(function()
	if _G.HitboxEnabled then
		for _, p in pairs(Players:GetPlayers()) do
			if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("Head") then
				pcall(function()
					local head = p.Character.Head
					head.Size = Vector3.new(_G.HitboxSize, _G.HitboxSize, _G.HitboxSize)
					head.Transparency = 0.7
					head.Material = Enum.Material.ForceField
					head.CanCollide = false
				end)
			end
		end
	end
end)

-- ABOUT TAB
local InfoTab = Window:CreateTab("About", 4483362458)
InfoTab:CreateSection("üìå ZILD Info")

InfoTab:CreateParagraph({
	Title = "ZILD Hub Free Version",
	Content = "üî• Script made by ZILD\nüåê discord.gg/vBUqNvSc\n\n‚úÖ Working on all FPS games\n‚úÖ Combat features only\n‚úÖ Best for PC & mobile\n\nEnjoy and don't forget to share!"
})

InfoTab:CreateButton({
	Name = "Join ZILD Discord",
	Callback = function()
		setclipboard("https://discord.gg/vBUqNvSc")
		Rayfield:Notify({
			Title = "Discord Copied",
			Content = "Paste in browser to join!",
			Duration = 4
		})
	end
})
